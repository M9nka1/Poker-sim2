<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ–∫–µ—Ä–Ω—ã—Ö —Å—Ç–æ–ª–æ–≤</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: white;
        }
        .test-results {
            max-width: 1200px;
            margin: 0 auto;
        }
        .test-section {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .test-title {
            color: #4ade80;
            font-size: 24px;
            margin-bottom: 15px;
        }
        .test-description {
            color: #9ca3af;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        .test-steps {
            background: #374151;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
        }
        .step {
            margin: 10px 0;
            padding: 5px 0;
        }
        .step-number {
            color: #fbbf24;
            font-weight: bold;
        }
        .expected-behavior {
            background: #065f46;
            border: 1px solid #10b981;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .issue-fixed {
            background: #7c2d12;
            border: 1px solid #dc2626;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }
        .code-example {
            background: #111827;
            border: 1px solid #374151;
            border-radius: 5px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
        .highlight {
            background: #fbbf24;
            color: #000;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .nav-link {
            display: inline-block;
            background: #3b82f6;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px 5px 0 0;
        }
        .nav-link:hover {
            background: #2563eb;
        }
    </style>
</head>
<body>
    <div class="test-results">
        <h1>üéØ –¢–µ—Å—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ–∫–µ—Ä–Ω—ã—Ö —Å—Ç–æ–ª–æ–≤</h1>
        
        <div class="test-section">
            <div class="test-title">üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã</div>
            <div class="test-description">
                <strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> –ö–æ–≥–¥–∞ –∑–∞–∫–∞–Ω—á–∏–≤–∞–ª–∞—Å—å —Ä–∞–∑–¥–∞—á–∞ –Ω–∞ –æ–¥–Ω–æ–º —Å—Ç–æ–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–æ–ª–µ #1), 
                –¥—Ä—É–≥–∏–µ —Å—Ç–æ–ª—ã (—Å—Ç–æ–ª—ã #2, #3, #4) –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å –∏–ª–∏ "–∑–∞–∫—Ä—ã–≤–∞–ª–∏—Å—å", 
                —Ö–æ—Ç—è –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏.
            </div>
            
            <div class="issue-fixed">
                <h4>üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:</h4>
                <ul>
                    <li><strong>updateTableUI</strong> - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—á–∞—Å—Ç–∏—è –∏–≥—Ä–æ–∫–∞ –Ω–∞ —Å—Ç–æ–ª–µ</li>
                    <li><strong>handleHandCompleted</strong> - –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Å—Ç–æ–ª–æ–≤, –≥–¥–µ –∏–≥—Ä–æ–∫ –Ω–µ –∏–≥—Ä–∞–µ—Ç</li>
                    <li><strong>handleActionProcessed</strong> - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ —Å—Ç–æ–ª–∞—Ö –∏–≥—Ä–æ–∫–∞</li>
                    <li><strong>handleNewHandStarted</strong> - —Ä–µ–∞–≥–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ –Ω–æ–≤—ã–µ —Ä–∞–∑–¥–∞—á–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–æ–ª–æ–≤</li>
                    <li><strong>handleNewHandAutoStarted</strong> - –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞–∑–¥–∞—á</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">üß™ –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
            
            <div class="test-steps">
                <div class="step">
                    <span class="step-number">1.</span> –û—Ç–∫—Ä–æ–π—Ç–µ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–≥—Ä—ã: 
                    <a href="http://localhost:3000" class="nav-link" target="_blank">–ü–æ–∫–µ—Ä –°–∏–º—É–ª—è—Ç–æ—Ä</a>
                </div>
                
                <div class="step">
                    <span class="step-number">2.</span> –°–æ–∑–¥–∞–π—Ç–µ –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä —Å–µ—Å—Å–∏—é (–Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä –≤ –º–µ–Ω—é)
                </div>
                
                <div class="step">
                    <span class="step-number">3.</span> –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ —Å–µ—Å—Å–∏–∏ –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤—Ç–æ—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä/–≤–∫–ª–∞–¥–∫—É
                </div>
                
                <div class="step">
                    <span class="step-number">4.</span> –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç–µ—Å—å –∫ —Å–µ—Å—Å–∏–∏ —Å –ø–æ–º–æ—â—å—é –∫–æ–¥–∞ –≤–æ –≤—Ç–æ—Ä–æ–π –≤–∫–ª–∞–¥–∫–µ
                </div>
                
                <div class="step">
                    <span class="step-number">5.</span> –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É - –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è 4 —Å—Ç–æ–ª–∞
                </div>
                
                <div class="step">
                    <span class="step-number">6.</span> <span class="highlight">–û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ—Å—Ç:</span> 
                    –ò–≥—Ä–∞–π—Ç–µ –Ω–∞ —Å—Ç–æ–ª–µ #1, –∑–∞–≤–µ—Ä—à–∏—Ç–µ —Ä–∞–∑–¥–∞—á—É –¥–æ –∫–æ–Ω—Ü–∞
                </div>
                
                <div class="step">
                    <span class="step-number">7.</span> <span class="highlight">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:</span> 
                    –°—Ç–æ–ª—ã #2, #3, #4 –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –∏–≥—Ä—ã
                </div>
                
                <div class="step">
                    <span class="step-number">8.</span> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–≥—Ä–∞—Ç—å –Ω–∞ —Å—Ç–æ–ª–µ #4, –∑–∞–≤–µ—Ä—à–∏—Ç–µ —Ä–∞–∑–¥–∞—á—É
                </div>
                
                <div class="step">
                    <span class="step-number">9.</span> <span class="highlight">–£–±–µ–¥–∏—Ç–µ—Å—å:</span> 
                    –°—Ç–æ–ª—ã #1, #2, #3 –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–∑–¥–∞—á–∏ –Ω–∞ —Å—Ç–æ–ª–µ #4
                </div>
            </div>
            
            <div class="expected-behavior">
                <h4>‚úÖ –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:</h4>
                <ul>
                    <li>–ö–∞–∂–¥—ã–π —Å—Ç–æ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥—Ä—É–≥–∏—Ö</li>
                    <li>–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–∑–¥–∞—á–∏ –Ω–∞ –æ–¥–Ω–æ–º —Å—Ç–æ–ª–µ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç–æ–ª—ã</li>
                    <li>–ù–æ–≤—ã–µ –∫–∞—Ä—Ç—ã —Ä–∞–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–æ–º —Å—Ç–æ–ª–µ, –≥–¥–µ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Ä–∞–∑–¥–∞—á–∞</li>
                    <li>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥—Ä—É–≥–∏—Ö —Å—Ç–æ–ª–æ–≤ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º</li>
                    <li>–í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –≤–∏–¥–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è: "‚ö†Ô∏è –ò–≥—Ä–æ–∫ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å—Ç–æ–ª–µ X, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º..."</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è</div>
            
            <div class="test-description">
                –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–±–∞–≤–ª—è—é—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —É—á–∞—Å—Ç–∏—è –∏–≥—Ä–æ–∫–∞ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–æ–±—ã—Ç–∏–π:
            </div>
            
            <div class="code-example">
// –í –∫–∞–∂–¥–æ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ —Å–æ–±—ã—Ç–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:
if (data.tableInfo) {
  const heroPlayer = data.tableInfo.players.find(p => p.id === this.userId);
  if (!heroPlayer) {
    console.log(`‚ö†Ô∏è –ò–≥—Ä–æ–∫ ${this.userId} –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å—Ç–æ–ª–µ ${data.tableId}, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É`);
    return;
  }
}
            </div>
            
            <div class="test-description">
                –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è —Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—Ç–æ–ª–∞:
            </div>
            
            <div class="code-example">
// –°–µ—Ä–≤–µ—Ä: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è —Ç–æ–ª—å–∫–æ –∏–≥—Ä–æ–∫–∞–º —Å—Ç–æ–ª–∞
session.players.forEach((player, playerId) => {
  if (this.players.has(playerId)) {  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—á–∞—Å—Ç–∏—è –≤ —Å—Ç–æ–ª–µ
    playerSocket.emit('hand-completed', {
      tableId: this.tableId,
      tableInfo: this.getTableInfo(playerId)
    });
  }
});
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ –∫–æ–Ω—Å–æ–ª–∏</div>
            
            <div class="test-description">
                –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
            </div>
            
            <div class="test-steps">
                <div class="step">
                    <span class="step-number">‚úÖ</span> 
                    <span style="color: #10b981;">üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å—Ç–æ–ª–∞: 1</span> - –¥–ª—è —Å—Ç–æ–ª–∞ –≥–¥–µ –∏–≥—Ä–æ–∫ —É—á–∞—Å—Ç–≤—É–µ—Ç
                </div>
                
                <div class="step">
                    <span class="step-number">‚ö†Ô∏è</span> 
                    <span style="color: #fbbf24;">‚ö†Ô∏è –ò–≥—Ä–æ–∫ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å—Ç–æ–ª–µ 2, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</span> - –¥–ª—è –¥—Ä—É–≥–∏—Ö —Å—Ç–æ–ª–æ–≤
                </div>
                
                <div class="step">
                    <span class="step-number">üì°</span> 
                    <span style="color: #3b82f6;">üì° –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–∑–¥–∞—á–∏ –Ω–∞ —Å—Ç–æ–ª–µ 1</span> - —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
                </div>
            </div>
        </div>
        
        <div style="text-align: center; margin: 40px 0;">
            <a href="http://localhost:3000" class="nav-link">üéÆ –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
            <a href="http://localhost:3000" class="nav-link" onclick="window.open(this.href); return false;">üîÑ –û—Ç–∫—Ä—ã—Ç—å –≤—Ç–æ—Ä—É—é –≤–∫–ª–∞–¥–∫—É</a>
        </div>
    </div>
    
    <script>
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
        fetch('http://localhost:3000')
            .then(response => {
                if (response.ok) {
                    console.log('‚úÖ –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:3000');
                } else {
                    console.warn('‚ö†Ô∏è –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π:', response.status);
                }
            })
            .catch(error => {
                console.error('‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:', error);
                document.body.style.background = '#7f1d1d';
                document.querySelector('h1').innerHTML = '‚ùå –°–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ localhost:3000';
            });
    </script>
</body>
</html> 