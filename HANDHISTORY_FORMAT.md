# üéØ –§–æ—Ä–º–∞—Ç HandHistory PokerStars - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –û–±–∑–æ—Ä

–ü–æ–∫–µ—Ä–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é HandHistory –≤ —Ñ–æ—Ä–º–∞—Ç–µ PokerStars, —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é —Å –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –ø–æ–∫–µ—Ä–Ω—ã–º–∏ —Ç—Ä–µ–∫–µ—Ä–∞–º–∏:

- **Holdem Manager 2** ‚úÖ
- **Hand2Note** ‚úÖ  
- **PokerTracker 4** ‚úÖ
- **DriveHUD** ‚úÖ

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **`generateHandHistoryText()`** - –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
2. **`formatCard()`** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç PokerStars
3. **`formatAction()`** - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –∏–≥—Ä–æ–∫–æ–≤
4. **`generateSummarySeats()`** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ü–∏–∏ Summary
5. **`addAction()`** - —É–ª—É—á—à–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ HandHistory

### 1. –ó–∞–≥–æ–ª–æ–≤–æ–∫ (Header)
```
PokerStars Hand #4400520541168030101: Hold'em No Limit ($5.00/$10.00) - 2024/12/14 2:21:47 GMT+03:00
Table 'PioSolver Table' 6-max Seat #6 is the button
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤ —Ä–∞–∑–¥–∞—á
- ‚úÖ –§–æ—Ä–º–∞—Ç: `{originalId}{tableId:02d}{handNumber:02d}`
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —à—Ç–∞–º–ø–∞

### 2. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–æ–∫–∞—Ö
```
Seat 1: Pio_OOP_3bet_SB ($1000.00 in chips)
Seat 2: Pio_BB ($1000.00 in chips)
Seat 6: Pio_IP_c3bBU ($1000.00 in chips)
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –ø—Ä–µ—Ñ–ª–æ–ø —Å–ø–æ—Ç–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –∏ –∏–º–µ–Ω–∞

### 3. –ü—Ä–µ—Ñ–ª–æ–ø —á–∞—Å—Ç—å
```
Pio_OOP_3bet_SB: posts small blind $5.00
Pio_BB: posts big blind $10.00
*** HOLE CARDS ***
Pio_EP: folds
Pio_IP_c3bBU: raises $15.00 to $25.00
Pio_OOP_3bet_SB: raises $85.00 to $110.00
Pio_BB: folds
Pio_IP_c3bBU: calls $85.00
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ë–µ—Ä–µ—Ç—Å—è –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –ø—Ä–µ—Ñ–ª–æ–ø —Å–ø–æ—Ç–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–µ–∑–∞–Ω–∏–µ –¥–æ –Ω–∞—á–∞–ª–∞ —Ñ–ª–æ–ø–∞

## üÉè –ü–æ—Å—Ç—Ñ–ª–æ–ø —Å–µ–∫—Ü–∏–∏

### 4. –§–ª–æ–ø
```
*** FLOP *** [As Kh 7c]
Pio_OOP_3bet_SB: checks
Pio_IP_c3bBU: bets $50.00
Pio_OOP_3bet_SB: raises $150.00 to $200.00
Pio_IP_c3bBU: calls $150.00
```

### 5. –¢–µ—Ä–Ω
```
*** TURN *** [As Kh 7c] [2d]
Pio_OOP_3bet_SB: checks
Pio_IP_c3bBU: bets $400.00 and is all-in
Pio_OOP_3bet_SB: calls $400.00 and is all-in
```

### 6. –†–∏–≤–µ—Ä
```
*** RIVER *** [As Kh 7c 2d] [9s]
```

## üé≤ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π

### –¢–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π

#### Check
```
PlayerName: checks
```

#### Bet
```
PlayerName: bets $50.00
PlayerName: bets $400.00 and is all-in
```

#### Call
```
PlayerName: calls $150.00
PlayerName: calls $400.00 and is all-in
```

#### Raise
```
PlayerName: raises $150.00 to $200.00
PlayerName: raises $300.00 to $500.00 and is all-in
```

#### Fold
```
PlayerName: folds
```

### üî¢ –õ–æ–≥–∏–∫–∞ —Ä–µ–π–∑–æ–≤

–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ä–µ–π–∑–æ–≤:
- **`raiseAmount`** = —Å—É–º–º–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —Å–≤–µ—Ä—Ö –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç–∞–≤–∫–∏
- **`totalBet`** = –æ–±—â–∞—è —Å—É–º–º–∞ —Å—Ç–∞–≤–∫–∏ –ø–æ—Å–ª–µ —Ä–µ–π–∑–∞

**–ü—Ä–∏–º–µ—Ä:**
```javascript
// –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç–∞–≤–∫–∞: $100
// –ù–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞: $250
// –†–µ–∑—É–ª—å—Ç–∞—Ç: "raises $150.00 to $250.00"
```

## üèÜ Show Down —Å–µ–∫—Ü–∏—è

```
*** SHOW DOWN ***
Pio_OOP_3bet_SB: shows [Ah Ad] (a pair of Aces)
Pio_IP_c3bBU: mucks hand
Pio_OOP_3bet_SB collected $547.50 from pot
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
- ‚úÖ –ë–∞–∑–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–∏–ª—ã —Ä—É–∫ (–ø–∞—Ä—ã, —Å—Ç–∞—Ä—à–∞—è –∫–∞—Ä—Ç–∞)
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç –≤—ã–∏–≥—Ä—ã—à–∞ —Å —Ä–µ–π–∫–æ–º

## üìä Summary —Å–µ–∫—Ü–∏—è

```
*** SUMMARY ***
Total pot $570.00 | Rake $22.50
Board [As Kh 7c 2d 9s]
Seat 1: Pio_OOP_3bet_SB (small blind) showed [Ah Ad] and won ($547.50) with a pair of Aces
Seat 2: Pio_BB (big blind) folded before Flop
Seat 6: Pio_IP_c3bBU (button) showed [Ks Kd] and lost with a pair of Kings
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–Ω–∫–µ –∏ —Ä–µ–π–∫–µ
- ‚úÖ –î–æ—Å–∫–∞ —Å–æ –≤—Å–µ–º–∏ –∫–∞—Ä—Ç–∞–º–∏
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–≥—Ä–æ–∫–∞ —Å –ø–æ–∑–∏—Ü–∏–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π (button, small blind, big blind)

## üéØ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç

### –°—Ç–∞–Ω–¥–∞—Ä—Ç PokerStars

| –†–∞–Ω–≥ | –§–æ—Ä–º–∞—Ç | –ú–∞—Å—Ç—å | –°–∏–º–≤–æ–ª |
|------|--------|-------|--------|
| –¢—É–∑ | A | –ü–∏–∫–∏ | s |
| –ö–æ—Ä–æ–ª—å | K | –ß–µ—Ä–≤—ã | h |
| –î–∞–º–∞ | Q | –ë—É–±–Ω—ã | d |
| –í–∞–ª–µ—Ç | J | –¢—Ä–µ—Ñ—ã | c |
| 10 | **T** | | |
| 2-9 | 2-9 | | |

**–ü—Ä–∏–º–µ—Ä—ã:** `As`, `Kh`, `Qd`, `Jc`, `Ts`, `9h`, `2s`

### –ú–∞–ø–ø–∏–Ω–≥ –º–∞—Å—Ç–µ–π

```javascript
const suitMap = {
  'spades': 's',    '‚ô†': 's',
  'hearts': 'h',    '‚ô•': 'h', 
  'diamonds': 'd',  '‚ô¶': 'd',
  'clubs': 'c',     '‚ô£': 'c'
};
```

## üí∞ –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–ü—Ä–æ—Ü–µ–Ω—Ç:** 5%
- **–ö–∞–ø:** $3.00

### –†–∞—Å—á–µ—Ç
```javascript
const rakeAmount = Math.min(
  pot * rakePercent / 100, 
  rakeCap
);
const winAmount = pot - rakeAmount;
```

## üîÑ –ù—É–º–µ—Ä–∞—Ü–∏—è —Ä–∞–∑–¥–∞—á

### –ê–ª–≥–æ—Ä–∏—Ç–º
```javascript
const newHandId = `${originalHandId.slice(0, -4)}${tableId:02d}${handNumber:02d}`;
```

### –ü—Ä–∏–º–µ—Ä—ã
- –ò—Å—Ö–æ–¥–Ω—ã–π ID: `4400520541168030866`
- –°—Ç–æ–ª 1, —Ä–∞–∑–¥–∞—á–∞ 1: `4400520541168030101`
- –°—Ç–æ–ª 2, —Ä–∞–∑–¥–∞—á–∞ 5: `4400520541168030205`
- –°—Ç–æ–ª 4, —Ä–∞–∑–¥–∞—á–∞ 12: `4400520541168030412`

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/test-handhistory.html`
2. –ù–∞–∂–º–∏—Ç–µ "üöÄ –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç"
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–≥—Ä—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HandHistory
5. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ —Ç—Ä–µ–∫–µ—Ä–µ

### –ü—Ä–∏–º–µ—Ä—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–µ–π–∑
```
Pio_IP_c3bBU: raises $150.00 to $200.00
```

#### ‚úÖ All-in –¥–µ–π—Å—Ç–≤–∏–µ
```
Pio_OOP_3bet_SB: bets $890.00 and is all-in
```

#### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–∞—Ä—Ç
```
Board [As Kh 7c 2d 9s]
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –∫–æ–¥–µ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞
```javascript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HandHistory
const handHistory = table.exportHandHistory();

// –î–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É —Ç–µ–∫—Å—Ç—É
const formattedText = handHistory.formatted;

// –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
const blob = new Blob([formattedText], { type: 'text/plain' });
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–µ–∫–µ—Ä–∞–º–∏
1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ HandHistory –≤ —Ñ–∞–π–ª `.txt`
2. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ –≤–∞—à –ø–æ–∫–µ—Ä–Ω—ã–π —Ç—Ä–µ–∫–µ—Ä
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### Holdem Manager 2
- ‚úÖ –§–æ—Ä–º–∞—Ç –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- ‚úÖ –°–µ–∫—Ü–∏—è Summary –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
- ‚úÖ –†–µ–π–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### Hand2Note  
- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ All-in —Å–∏—Ç—É–∞—Ü–∏–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- ‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è

### PokerTracker 4
- ‚úÖ –í—Ä–µ–º–µ–Ω–Ω—ã–µ —à—Ç–∞–º–ø—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –ù–æ–º–µ—Ä–∞ —Ä–∞–∑–¥–∞—á —É–Ω–∏–∫–∞–ª—å–Ω—ã
- ‚úÖ –í–∞–ª—é—Ç–∞ –∏ –ª–∏–º–∏—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è

## üìà –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –ë–ª–∏–∂–∞–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–∏–ª—ã —Ä—É–∫ (—Ñ–ª–µ—à–∏, —Å—Ç—Ä–∏—Ç—ã)
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–±–æ—á–Ω—ã—Ö –±–∞–Ω–∫–æ–≤ (side pots)
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã (888poker, partypoker)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HUD (Heads-Up Display)

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—É—Ä–Ω–∏—Ä–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- [ ] –ú—É–ª—å—Ç–∏—Ç–µ–π–±–ª –≥–∏—Å—Ç–æ—Ä–∏–∏
- [ ] Real-time —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ç—Ä–µ–∫–µ—Ä—ã
- [ ] API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

---

**–ê–≤—Ç–æ—Ä:** –ü–æ–∫–µ—Ä–Ω—ã–π —Å–∏–º—É–ª—è—Ç–æ—Ä v2.0  
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É 